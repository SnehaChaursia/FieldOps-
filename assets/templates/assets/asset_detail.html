{% extends "base.html" %}

{% block title %}Asset Detail{% endblock %}

{% block content %}

<div class="container mt-4">

    <h2 class="text-center mb-4 text-dark fw-bold">
        Asset Details: {{ asset.name }}
    </h2>

    <div class="row justify-content-center">

        <!-- ASSET IMAGE BOX -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-primary text-white fw-semibold text-center">
                    Asset Image
                </div>
                <div class="card-body text-center">
                    {% if asset.image %}
                        <img src="{{ asset.image.url }}" class="img-fluid rounded"
                             style="max-height:250px; object-fit:cover;">
                    {% else %}
                        <p class="text-muted">No image available</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- QR CODE BOX -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-success text-white fw-semibold text-center">
                    QR Code
                </div>
                <div class="card-body text-center">
                    {% if asset.qr_code %}
                        <img src="{{ asset.qr_code.url }}" class="img-fluid rounded"
                             style="max-height:250px;">
                    {% else %}
                        <p class="text-muted">No QR code available</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- DETAILS BOX -->
    <div class="row justify-content-center mt-3">
        <div class="col-md-8">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-dark text-white fw-semibold">
                    Asset Information
                </div>
                <div class="card-body">

                    <p><strong>Serial:</strong> {{ asset.serial_number }}</p>
                    <p><strong>Category:</strong> {{ asset.category }}</p>
                    <p><strong>Location:</strong> {{ asset.location }}</p>

                    <p>
                        <strong>Status:</strong>
                        {% if asset.status == "Available" %}
                          <span class="badge bg-success">Available</span>
                        {% elif asset.status == "Unavailable" %}
                          <span class="badge bg-danger">Unavailable</span>
                        {% else %}
                          <span class="badge bg-info">Checked Out</span>
                        {% endif %}
                    </p>

                    <p><strong>Created:</strong> {{ asset.created_at }}</p>

                    <a href="{% url 'edit_asset' asset.pk %}"
                       class="btn btn-primary mt-3 px-4">
                        Edit Asset
                    </a>

                </div>
            </div>
        </div>
    </div>

</div>

{% endblock %}
